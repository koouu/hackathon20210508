<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="">
  <meta property="og:type" content="">
  <meta property="og:url" content="">
  <meta property="og:image" content="">

  <link rel="manifest" href="site.webmanifest">
  <link rel="apple-touch-icon" href="icon.png">
  <!-- Place favicon.ico in the root directory -->

  <!-- CSS only -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

  <meta name="theme-color" content="#fafafa">
</head>

<body>

  <div class="container">
  <h1>あなたの顔を長崎にするページ</h1><br>
  <p>↓変換したいファイルを選択してね</p>
  <input type="file" id="selfile"><br>

  <div id="bg"></div>

  <style type="text/css">
  textarea{ width:100; height:100; margin:10px 0px }
  div#bg{ width:300px;  height:200px; border:1px solid black; overflow:auto }
  </style>

  <style>
/*
.rei5 {
  width: 300px;
  height: 200px;
  position: relative;
}
*/


.rei5 img {
  position: absolute;
  display: block;
  width: 200px;             /* 圧縮後画像幅 */
  height: 150px;            /* 圧縮後画像高 */
  top: 1;                   /* 1のとき余白が上→画像は下揃え */
  right: 0;                 /* 1のとき余白が上→画像は下揃え */
  bottom: 0;                /* 1のとき余白が上→画像は下揃え */
  left: 0;                  /* 1のとき余白が上→画像は下揃え */
  margin: auto;
}</style>



  <script>
  var obj1 = document.getElementById("selfile");

  obj1.addEventListener("change", function(evt){
    var file = evt.target.files;
    var reader = new FileReader();

    //dataURL形式でファイルを読み込む
    reader.readAsDataURL(file[0]);
    var dataUrl = reader.result;

    //ファイルの読込が終了した時の処理
    reader.onload = function(){
      var dataUrl = reader.result;
      let blob = new Blob([dataUrl],{type:"text/plan"});
      let link = document.createElement('a');
      link.href = URL.createObjectURL(blob);
      link.download = '画像.txt';
      link.click();
      //読み込んだ画像とdataURLを書き出す
      document.getElementById("bg").innerHTML = "<img src='" + dataUrl + "' width=250>";
      /*document.getElementById("dturl").value = dataUrl;*/
    }
  },false);
  </script>


  <div class="d-flex justify-content-center">

  <!-- Content here -->

  <input type="button" class="mt-2 btn btn-primary" value="変換" />
  </div>
  </div>

</body>

</html>
